<ui:composition template="/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

	<ui:define name="content">
		<h2>砖转 驻 注</h2>

		<h:panelGroup rendered="#{not userBean.loggedIn}">
			<h2>砖 转 </h2>
			<p>注 转专  砖转砖 祝 .</p>
			<h:link outcome="login" value="抓   转专"
				styleClass="link-button" />
		</h:panelGroup>

		<h:panelGroup rendered="#{userBean.loggedIn}">
			<f:metadata>
				<f:viewParam name="animalId" value="#{messageBean.animalId}" />
				<f:event type="preRenderView"
					listener="#{messageBean.loadSelectedAnimal}" />
			</f:metadata>

			<h:form>
				<h:outputLabel value="砖:" />
				<h:inputText value="#{messageBean.newMessage.subject}"
					required="true" />

				<br />
				<br />
				<h:outputLabel value="转 注:" />
				<h:inputTextarea value="#{messageBean.newMessage.content}" rows="5"
					required="true" />

				<br />
				<br />
				<h:commandButton value="砖 "
					action="#{messageBean.sendMessage()}" styleClass="primary-button" />
			</h:form>
		</h:panelGroup>
	</ui:define>
</ui:composition>
